<!-- TOC -->

- [1. 需要接入方实现的adapter服务](#1-需要接入方实现的adapter服务)
    - [1.1. 文档版本](#11-文档版本)
    - [1.2. 功能说明](#12-功能说明)
    - [1.3. 开发指南](#13-开发指南)
        - [1.3.1. 方案](#131-方案)
        - [1.3.2. 接口格式规范](#132-接口格式规范)
        - [1.3.3. 接口文档列表](#133-接口文档列表)

<!-- /TOC -->
# 1. 需要接入方实现的服务
## 1.1. 文档版本

|文档版本|修改日期|修改概述|
|:--|:--|:--|
|0.8|2018-12-10|初始版本|
|2.6.5|2019-06-12|adapter协议优化|

--------------------------
## 1.2. 功能说明

## 1.3. 开发指南

### 1.3.1. 方案

```sequence
BBASM->百度小程序SDK: API调用
百度小程序SDK->宿主APP: 获取网络请求参数
Note right of 宿主APP: 根据宿主公参等自定义CS协议参数
宿主APP-->百度小程序SDK: 返回网络协议参数（header,url,postBody）
Note left of 百度小程序SDK: 向宿主Server发送网络请求
Note left of 百度小程序SDK: 解析网络请求,校验数据格式
百度小程序SDK->BBASM: 返回数据
```
### 1.3.2. 接口格式规范

* 请求协议统一通过POST调用。
* 请求数据格式
  * Query String:宿主可以自定义
  * post数据 : 见各接口的接口文档说明
* 返回数据格式：

```

{         

"errno": "0",         
"request_id": 123456789,         
"errmsg": "",         
"data": {}

}

```

>  Errno表示请求是否被正常地处理，调用方应该按以下流程处理：

* [x] 1. 若Errno == 0，表示请求被正常地处理，此时调用方应该继续解析服务端返回的数据用于业务逻辑。
* [x] 2. 若Errno != 0，表示请求出现异常，调用方应该判断错误码是否为双方预先约定的特定错误码，若是预先约定需要特殊处理的错误码，按处理流程进行。
* [x] 3. 若Errno != 0，且不是双方预先约定的特定错误码，表示请求无法被服务端正确地处理，此时服务端无法返回正确的业务数据，调用方除了errno和errmsg两个字段外，不应处理其它任何字段。调用方此时应根据具体的业务场景决定给出对应的提示，且为了追查问题方便，若是可视化的错误提示，应尽量地将errno和errmsg放在错误提示中。

### 1.3.3. 接口文档列表
* [发票](发票.md)
* [收货地址](收货地址.md)
* [授权](授权.md)



