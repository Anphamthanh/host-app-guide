#### 功能说明

pushid分为两个，formid和payid，都是用于小程序开发者给用户发送推送消息

#### 实现细节
> formid  

* 当用户点击表单组件的时候，如果小程序开发者选择了使用formid，小程序框架会向服务端请求一个formid。通过端能力回调，将fromid传递给小程序开发者，便于向目标用户推送消息
* formid需要向自己的服务器发送请求，小程序框架规定数据格式，需要宿主客户端和服务端都遵循该数据格式。
* **网络请求：**
timestamp 为时间戳，rasign为前端生成的秘钥，delta约定为formid。  
**接口：(示例)**/ma/formid/new?timestamp=1534164430&rasign=9d387162&delta=formid&cfrom=757b&from=757b&network=1_0&osbranch=a0&osname=baiduboxapp&puid=null&service=bdbox&sid=1006857_20646-1545_3629-1292_2840-1007386_22478-1560_3677-1562_3683-1007122_21549-1005329_15528-1007393_22500-1074_2311-1006647_19875-1337_3110-1007156_21661-1007409_22547-1007179_21735-1007431_22636-1006917_20858-1367_3149-1006424_19241-1005423_15828-1007465_22755-1007463_22746-1007486_22823-1007483_22814-1006971_21059-1167_2514-1176_2541-1436_3337-1193_2579-1007268_22028-1006777_20348-1208_2626-1471_3435-1007280_22071-1006799_20431-707_1471-1235_2698-1493_3490-1007058_21312-1006573_19659-1007074_21357-1518_3545-1007358_22360-1007356_22347-1529_3569-1533_3577&ua=1080_1920_android_10.13.0.0_480&uid=xxxxxxxxxxxx&ut=NX531J_6.0.1_23_nubia&zid=  
**请求：**post  
**参数：**  

| 参数 | 含义 | 举例 |
| ---|---|---|
| appkey|小程序标识|wFxG7nwxhmtGpAs32CQnSxUGKhX7QsgL|

**返回（成功）:**
``` json
{
    "data": {
        "formid": "11.8868443034d91e589c8f547ef3e5dc73.767546.1535030831",
        "life": 3
    },
    "errmsg": "succ",
    "errno": "0",
    "request_id": "3165249752",
    "tipmsg": ""
}
```
**返回（失败）：**
``` json
    {
        "data": {},
        "errmsg": "rasign illegal",
        "errno": "10009",
        "request_id": "4213656312",
        "tipmsg": ""
    }
```

> payid

* 当用户使用直连支付的时候（支付宝和度小满支付完成并且成功时候，微信h5支付调起时候），如果小程序开发者选择了使用payid，需要宿主向服务端请求一个payid。通过端能力回调，将payid传递给小程序开发者，便于向目标用户推送消息
* payid需要向自己的服务器发送请求，小程序框架规定数据格**接口：**式，需要宿主客户端和服务端都遵循该数据格式。
* **网络请求：**    
timestamp 为时间戳，rasign为前端生成的秘钥，delta约定为payid。  
**接口：(示例)**/ma/payid/new?timestamp=1534164430&rasign=9d387162&delta=payid&cfrom=757b&from=757b&network=1_0&osbranch=a0&osname=baiduboxapp&puid=null&service=bdbox&sid=1006857_20646-1545_3629-1292_2840-1007386_22478-1560_3677-1562_3683-1007122_21549-1005329_15528-1007393_22500-1074_2311-1006647_19875-1337_3110-1007156_21661-1007409_22547-1007179_21735-1007431_22636-1006917_20858-1367_3149-1006424_19241-1005423_15828-1007465_22755-1007463_22746-1007486_22823-1007483_22814-1006971_21059-1167_2514-1176_2541-1436_3337-1193_2579-1007268_22028-1006777_20348-1208_2626-1471_3435-1007280_22071-1006799_20431-707_1471-1235_2698-1493_3490-1007058_21312-1006573_19659-1007074_21357-1518_3545-1007358_22360-1007356_22347-1529_3569-1533_3577&ua=1080_1920_android_10.13.0.0_480&uid=xxxxxxxxxxxx&ut=NX531J_6.0.1_23_nubia&zid=  
**请求：**post  
**参数：**  

| 参数 | 含义 | 举例 |
| ---|---|---|
| appkey|小程序标识|zrwssTqrRFqzGOSu9xGkE2msTvDd8u1p|

**返回（成功）:**
``` json
{
    "data": {
        "life": 3,
        "payid": "12.5970b2f6ae63a54c2e5252ff3b0403ff.27399.1539161726"
    },
    "errmsg": "succ",
    "errno": "0",
    "request_id": "3828115704",
    "tipmsg": ""
}
```
**返回（失败）：**
``` json
    {
        "data": {},
        "errmsg": "rasign illegal",
        "errno": "10009",
        "request_id": "4213656312",
        "tipmsg": ""
    }
```

#### 注意事项
* formid和payid都需要朝服务器请求数据，SwanAppPushIdImpl当中为mock数据，不可以直接使用
* 网络请求正常的成功和失败都应该走异步回调的onSuccess分支，只有网络不正常或者其他异常情况才走onFail
